{# This Source Code Form is subject to the terms of the Mozilla Public
 # License, v. 2.0. If a copy of the MPL was not distributed with this
 # file, You can obtain one at http://mozilla.org/MPL/2.0/. -#}

{% extends "mozorg/contribute/contribute-base.html" %}

{% block page_title %}
  {{_('Join Firefox Friends today!') }}
{% endblock %}

{% block body_class %}{{ super() }} firefox-friends{% endblock %}

{% block page_css %}
  {{ css_bundle('contribute-friends') }}
{% endblock %}

{% block contrib_page_title %}{{ _('Join Firefox Friends today!') }}{% endblock %}

{% block site_header %}
<header id="masthead">
  <div id="masthead-content">
    <img src="{{ static('img/contribute/friends/firefox-friends-logo.svg') }}" width="186" class="ff-logo" data-png="{{ static('img/contribute/friends/firefox-friends-logo.png') }}" data-fallback="true" alt="{{ _('Firefox Friends logo') }}" />
    <div class="ff-header-content">
      <h1>{{ _('Are You<br> a Firefox Fan?') }}</h1>

      <p class="ff-copy">
        {{ _('If you believe in defending a free and open Internet and you think Firefox is the best browser on the planet, sign up here to show your support.') }}
      </p>
    </div>
  </div>
</header>
{% endblock %}

{% block contrib_head %}{% endblock contrib_head %}

{% block contrib_content %}
<section class="ff-signup" id="ff-signup">
  <div id="ff-signup-copy" class="ff-copy">
    <p>
      {{ _('Occasionally we need a hand from our biggest backers, and when you sign up, we’ll be able to let you know about the following opportunities to help out in the future:') }}
    </p>

    <ul>
      <li>
        <h2>{{ _('Amplification') }}</h2>
        {{ _('Do you like to yell from the mountaintops about Firefox? Great!') }}
        {{ _('When we need help amplifying new campaigns, we’ll let you know.') }}
      </li>
      <li>
        <h2>{{ _('Feedback') }}</h2>
        {{ _('If you never hold back on honest criticism and praise when asked for your opinion, we’d love to hear what you think.') }}
        {{ _('We’ll be in touch when Firefox feedback opportunities arise.') }}
      </li>
    </ul>
  </div>

  <div id="footer-email-errors" class="hidden newsletter-form-extra">
    <ul class="errorlist"></ul>
  </div>

  <div class="ff-signup-wrapper">
    <form id="newsletter-form" class="newsletter-form footer-newsletter-form" action="{{ url('newsletter.subscribe') }}" method="post" data-spinner-color="#fff">
      {{ newsletter_form.newsletters|safe }}
      <input type="hidden" name="source_url" value="{{ request.build_absolute_uri() }}">
      <div id="form-details" class="fields-with-labels">
        <div class="field field-email">
          <label for="id_email">{{ _('Email') }}</label>
          {{ newsletter_form.email|safe }}
        </div>
        <div class="field field-first-name">
          <label for="id_first_name">{{ _('First Name') }}</label>
          {{ newsletter_form.first_name|safe }}
        </div>
        <div class="field field-last-name">
          <label for="id_last_name">{{ _('Last Name') }}</label>
          {{ newsletter_form.last_name|safe }}
        </div>
      </div>
      <div class="fields-no-labels">
        <div class="field field-country">{{ newsletter_form.country|safe }}</div>
        <div class="field field-format">{{ newsletter_form.fmt|safe }}</div>
        <div class="field field-privacy">{{ newsletter_form.privacy|safe }}</div>
        <div class="field field-fx-and-you">
          <label for="id_fx-and-you">
            <input id="id_fx-and-you" name="fx-and-you" type="checkbox">
            <span class="title">
              {{ _('Yes, I’d like to stay up-to-date with all the latest and greatest Firefox news by subscribing to the <em>Firefox + You</em> newsletter here.') }}
            </span>
          </label>
        </div>
        <input id="footer_email_submit" name="test-submit" type="submit" value="{{ _('Sign Me Up') }}" class="ff-join-now">
        <p><small>{{ _('We will only send you Mozilla-related information.') }}</small></p>
      </div>
      <div id="newsletter-spinner" class="hidden"></div>
    </form>
  </div>{# /-- .ff-signup-wrapper #}

  <div id="newsletter-form-thankyou" class="thank newsletter-form newsletter-form-extra">
    <h3>{{ _('Thanks!') }}</h3>

    {# below matches text found in newsletter/includes/macros/email_form_thankyou() #}
    <p>
    {% trans %}
      If you haven’t previously confirmed a subscription to a Mozilla-related
      newsletter you may have to do so. Please check your inbox or your spam filter
      for an email from us.
    {% endtrans %}
    </p>
  </div>
</section>

{% endblock contrib_content %}

{% block contrib_footer %}{% endblock contrib_footer %}

{% block js %}
  {{ js_bundle('contribute-friends') }}
{% endblock %}
